<form [formGroup]="createForm" (ngSubmit)="onSubmit()" class="container">
  <section class="section" *ngIf="currentStep === 1">
    <header class="section__header">
      <mat-icon class="section__icon section__icon--header" routerLink="/dashboard">close</mat-icon>
      <h3 class="section__title">Qual foi a atividade realizada?</h3>
    </header>

    <div class="section__content">
      <label class="section__label">Insira a descrição da atividade</label>
      <input type="text" placeholder="Descrição" formControlName="descricao" class="section__input">
    </div>

    <div class="section__footer">
      <button type="button" class="section__button" (click)="nextStep()">Continuar</button>
    </div>
  </section>

  <section class="section section--checkbox" *ngIf="currentStep === 2">
    <header class="section__header">
      <mat-icon class="section__icon section__icon--header" (click)="previousStep()">arrow_back_ios</mat-icon>
      <h3 class="section__title">Selecione quem será bonificado</h3>
    </header>

    <div class="section__content">
      <input type="text" placeholder="Pesquisar" class="section__input" (input)="onSearchChange($event)">
    </div>

    <div class="section__content">
      <label class="section__label">Lista de colaboradores</label>

      <div class="section__item" *ngIf="filteredEmployees.length > 0" formArrayName="participante">
        <label *ngFor="let emp of filteredEmployees; let i = index" for="emp_{{ getEmployeeIndex(emp) }}"
          class="section__label--checkbox">
          {{ emp.nome }}
          <input id="emp_{{ getEmployeeIndex(emp) }}" type="checkbox" [formControlName]="getEmployeeIndex(emp)"
            class="section__input section__input--checkbox">
        </label>
      </div>
    </div>

    <div class="section__footer">
      <button type="button" class="section__button" (click)="nextStep()">Continuar</button>
    </div>
  </section>

  <section class="section" *ngIf="currentStep === 3">
    <header class="section__header">
      <mat-icon class="section__icon section__icon--header" (click)="previousStep()">arrow_back_ios</mat-icon>
      <h3 class="section__title">Qual o valor da bonificação para <strong>pedreiro</strong>?</h3>
    </header>

    <div class="section__content">
      <label class="section__label">Insira o valor</label>
      <input type="number" placeholder="R$ 0,00" formControlName="valor_pedreiro" inputmode="numeric" pattern="[0-9]*"
        class="section__input">
    </div>

    <div class="section__footer">
      <button type="button" class="section__button" (click)="nextStep()">Continuar</button>
    </div>
  </section>

  <section class="section" *ngIf="currentStep === 4">
    <header class="section__header">
      <mat-icon class="section__icon section__icon--header" (click)="previousStep()">arrow_back_ios</mat-icon>
      <h3 class="section__title">Qual o valor da bonificação para <strong>servente</strong>?</h3>
    </header>

    <div class="section__content">
      <label class="section__label">Insira o valor</label>
      <input type="number" placeholder="R$ 0,00" formControlName="valor_servente" inputmode="numeric" pattern="[0-9]*"
        class="section__input">
    </div>

    <div class="section__footer">
      <button type="button" class="section__button" (click)="nextStep()">Continuar</button>
    </div>
  </section>

  <section class="section" *ngIf="currentStep === 5">
    <header class="section__header">
      <mat-icon class="section__icon section__icon--header" (click)="previousStep()">arrow_back_ios</mat-icon>
      <h3 class="section__title">Anexe a foto da sua prancheta</h3>
    </header>

    <div class="section__content">
      <label class="section__label--file">
        <mat-icon class="section__icon section__icon--file">cloud_upload</mat-icon>
        <span class="section__span">
          {{ getFileName() }}
        </span>
        <input type="file" accept="image/*" formControlName="foto_prancheta" (change)="onFileChange($event)"
          class="section__input--file">
      </label>
    </div>

    <div class="section__footer">
      <button type="submit" class="section__button">Enviar</button>
    </div>
  </section>
</form>
